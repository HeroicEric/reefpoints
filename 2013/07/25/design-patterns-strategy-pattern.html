<!DOCTYPE html><html><head><title>Design Patterns: The Strategy Pattern</title><link href="/stylesheets/all-82c87bf5.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all-c96a81f7.js" type="text/javascript"></script><meta content='NO-CACHE' http-equiv='CACHE-CONTROL'><meta content='DockYard is a Ruby on Rails, PostgreSQL, and, Ember.js, web / mobile application development software consultancy based in Boston, MA.' namer='description'><meta content='ruby on rails, rails, ruby, ruby on rails training, ruby application development, ruby on rails application development, ember application development, ember.js application development, software application development, web, web application development, mobile, mobile application development, ios, ios application development, iphone, iphone application development, android, android application development, postgres, startups, enterprise, Boston, MA, Massachusetts, for hire' name='keywords'><meta content='web development, mobile development, startups, enterprise, ruby on rails, rails, ruby, ruby on rails training, Boston, for hire' name='keywords'><meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0' name='viewport'><meta charset='utf-8'><meta content='DockYard.com - Exploring design patterns and their use cases' name='description'><meta content='DougYun' name='twitter:creator'><meta content='summary' name='twitter:card'><meta content='@DockYard' name='twitter:site'><meta content='http://reefpoints.dockyard.com/2013/07/25/design-patterns-strategy-pattern.html' name='twitter:url'><meta content='Design Patterns: The Strategy Pattern' name='twitter:title'><meta content='Exploring design patterns and their use cases' name='twitter:description'><link href='//cloud.typography.com/6496052/702882/css/fonts.css' rel='stylesheet' type='text/css'><link href='http://dockyard.com/humans.txt' rel='author'><link href='/favicon-573a5e34.png' rel='shortcut icon' type='image/x-icon'><link href='/favicon-573a5e34.png' rel='icon' type='image/x-icon'><link href='/apple-touch-icon.png' rel='apple-touch-icon'><link href='/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed'><script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-24185112-2']);
    _gaq.push(['_trackPageview']);
  
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
<!--
                                             ..
                                           .O.
                                       .:OO.
                                      :OOO.
                                    :OOO:.
                         ...      :OOOO:
                   ..ZOOOOOOOOO..OZ.O.
                   OOOOOOOOOOOOOOOOI
                  OOOOOOOOOOOOOOOOI,
                 OOOOOOOO. .OOOOOOOO:
                 OOOOOOOO   OOOOOOOOO:
                OOOOOOOOOOOOOOOOOOOOO.
                OOOOOOOOOOOOOOOOOOOOO:
               .OOOOOOOOOOOOOOOOOOOOO:
               .OOOOOOOOOOOOOOOOOOOOO.
                OOOOOOOOOOOOOOOOOOOOO
                OOOOOO?:   .OOOOOOOOO
               .OOOOO      OOOOOOOOOO
,OO ZO~        OOOOO,     OOOOOOOOOO+
 OOOOO.        OOOOO     OOOOOOOOOOO+
  OOO?        OOOOO     .OOOOOOOOOOO:
   OOO,      OOOOO.    .OOOOOOOOOOOO
    OOOOOOOOOOOOO.    .OOOOOOOOOOOO.
     OOOOOOOOOOOO.  .OOOOOOOOOOOOO.
      8OOOOOOOOOOOOOOOOOOOOOOOODO:
         :OOOOOOOOOOOOOOOOOOOO::

--></head><body class='2013 2013_07 2013_07_25 2013_07_25_design-patterns-strategy-pattern'><header><div class='extended-header-wrap has-border--bottom'><div class='l-wrap--wide'><nav class='extended-nav has-border--bottom'><a class='extended-nav--logo' data-icon='⌂' href='http://www.dockyard.com/'><span class='is-hidden'>Home</span></a><a class='extended-nav--close' data-icon='X'><span class='is-hidden'>Close</span></a><div class='extended-nav__items-wrap'><div class='extended-nav__items'><a class='extended-nav__item' href='http://www.dockyard.com/team'>Our Team</a><a class='extended-nav__item' href='http://www.dockyard.com/community'>Community</a><a class='extended-nav__item active' href='/'>Blog</a><a class='extended-nav__item' href='http://www.dockyard.com/hire-us'>Hire Us</a></div></div></nav><nav class='work-nav'><p>Selected Work</p><a class='work-nav-item' href='http://www.dockyard.com/work/credit-card-reviews'><h4 class='work-nav-item__title'>Credit Card Reviews</h4><p class='work-nav-item__desc'>Credit card advice from real people.</p></a><a class='work-nav-item' href='http://www.dockyard.com/work/coachup'><h4 class='work-nav-item__title'>CoachUp</h4><p class='work-nav-item__desc'>You should be training. Right now.</p></a><a class='work-nav-item' href='http://www.dockyard.com/work/askthem'><h4 class='work-nav-item__title'>AskThem</h4><p class='work-nav-item__desc'>Ask officials questions on city, state, and federal levels.</p></a><a class='work-nav-item' href='http://www.dockyard.com/work/beacon-hill-blitz'><h4 class='work-nav-item__title'>Beacon Hill Blitz</h4><p class='work-nav-item__desc'>How technology helped repeal the #TechTax.</p></a></nav></div></div><nav class='main-nav-wrap has-border--bottom'><div class='main-nav l-wrap--wide'><a class='logo' href='http://www.dockyard.com/'>DockYard</a><a class='club-sandwich' data-icon='☰'><span class='is-hidden'>Navigation</span></a></div></nav></header><div class='push--header'></div><div class='l-wrap'><a class='logo--reefpoints' href='/'>ReefPoints</a><div class='search-wrap'><form class='search' data-url='/'><input class='search__input' id='search' name='search' placeholder='Search all posts' type='text' value=''><button class='search__submit' href='/'></button></form></div><nav class='blog-topnav'><a class="blog-topnav__item " href="/">Posts</a><a class="blog-topnav__item " href="/tags.html">Tags</a><a class="blog-topnav__item " href="/authors.html">Authors</a></nav><div class='post-wrap--no-comments'><aside class='post__metas--post l-post__metas'><a class='icon' data-icon='#' href='http://twitter.com/DougYun' target='_blank'><span class='is-hidden'>Twitter</span></a><a class='icon' data-icon='★' href='https://github.com/duggiefresh' target='_blank'><span class='is-hidden'>GitHub</span></a><a class="post__meta--author" href="/authors/doug-yun.html">Doug Yun</a><p class='post__meta--date'>25 Jul 2013</p><p class='post__meta--tags'><a class="post__meta--tag" href="/tags/design-patterns.html">Design Patterns (6)</a> <a class="post__meta--tag" href="/tags/ruby.html">Ruby (35)</a></p></aside><div class='post l-post'><h1 class='post__title'>Design Patterns: The Strategy Pattern</h1><current_page class='post__content'><h2>Walls are sooooo last week...</h2>

<p>In our last post, we discussed the <em><a href="http://reefpoints.dockyard.com/ruby/2013/07/10/design-patterns-template-pattern.html">Template
Method</a></em>
pattern and its benefits, finding it most useful when we need to simply shape
behavior of <em>subclasses</em>. However, due to the reliance on <em>inheritance</em>,
there are a couple of limitations to this pattern:</p>

<ul>
<li>Subclasses are tightly bound to a superclass or baseclass</li>
<li>Runtime flexibility is hindered</li>
<li>Only a portion of the desired alogrithm is varied</li>
</ul>

<p>Thankfully, there is another design pattern that resolves these
problems: the <em>Strategy</em> pattern.</p>

<h2>Summertime and the Livin&#39; is Easy</h2>

<h3>Hot dogs, hamburgers, and veggie patties</h3>

<p>It&#39;s the middle of July, and there&#39;s no better time to throw a day
party. Our pals are bringing the tasty beverages, so we just need to prepare the food.</p>

<p>We&#39;ll first create a superclass <code>Food</code> that will delagate <code>#type</code> to its
subclasses: <code>HotDog</code>, <code>Hamburger</code>, and <code>VeggiePatty</code>. Notice that this
is the <em><a href="http://reefpoints.dockyard.com/ruby/2013/07/10/design-patterns-template-pattern.html">Template
Method</a></em>
pattern in action.</p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
22
23
</pre></td>
  <td class="code"><pre><span class="keyword">class</span> <span class="class">Food</span>
  <span class="keyword">def</span> <span class="function">type</span>
    raise <span class="constant">NotImplementedError</span>, <span class="string"><span class="delimiter">'</span><span class="content">Ask the subclass</span><span class="delimiter">'</span></span>
  <span class="keyword">end</span>
<span class="keyword">end</span>

<span class="keyword">class</span> <span class="class">HotDog</span> &lt; <span class="constant">Food</span>
  <span class="keyword">def</span> <span class="function">type</span>
    <span class="string"><span class="delimiter">'</span><span class="content">hot dogs</span><span class="delimiter">'</span></span>
  <span class="keyword">end</span>
<span class="keyword">end</span>

<span class="keyword">class</span> <span class="class">Hamburger</span> &lt; <span class="constant">Food</span>
  <span class="keyword">def</span> <span class="function">type</span>
    <span class="string"><span class="delimiter">'</span><span class="content">hamburgers</span><span class="delimiter">'</span></span>
  <span class="keyword">end</span>
<span class="keyword">end</span>

<span class="keyword">class</span> <span class="class">VeggiePatty</span> &lt; <span class="constant">Food</span>
  <span class="keyword">def</span> <span class="function">type</span>
    <span class="string"><span class="delimiter">'</span><span class="content">veggie patties</span><span class="delimiter">'</span></span>
  <span class="keyword">end</span>
<span class="keyword">end</span>
</pre></td>
</tr></table>
</div></div>
<p>Now, let&#39;s get the grill ready.</p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
</pre></td>
  <td class="code"><pre><span class="keyword">class</span> <span class="class">Grill</span>
  attr_accessor <span class="symbol">:food</span>

  <span class="keyword">def</span> <span class="function">initialize</span> food
    <span class="instance-variable">@food</span> = food
  <span class="keyword">end</span>

  <span class="keyword">def</span> <span class="function">grilling</span>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">Grilling the </span><span class="inline"><span class="inline-delimiter">#{</span>food.type<span class="inline-delimiter">}</span></span><span class="content">!</span><span class="delimiter">&quot;</span></span>
  <span class="keyword">end</span>
<span class="keyword">end</span>
</pre></td>
</tr></table>
</div></div>
<p>Nice. Now let&#39;s get grilling! We&#39;ll start with some hot dogs.</p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
</pre></td>
  <td class="code"><pre>grill = <span class="constant">Grill</span>.new(<span class="constant">HotDog</span>.new)
grill.grilling <span class="comment"># =&gt; &quot;Grilling the hot dogs!&quot;</span>
</pre></td>
</tr></table>
</div></div>
<p>Oh watch out, these dogs are almost done... time to throw on the
hamburger and veggie patties.</p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>grill.food = <span class="constant">Hamburger</span>.new
grill.grilling <span class="comment"># =&gt; &quot;Grilling the hamburgers!&quot;</span>

grill.food = <span class="constant">VeggiePatty</span>.new
grill.grilling <span class="comment"># =&gt; &quot;Grilling the veggie patties!&quot;</span>
</pre></td>
</tr></table>
</div></div>
<p>Wasn&#39;t that easy? We were able to switch out items without
creating a new class of <code>Grill</code>.</p>

<h2>Discussion</h2>

<h3>Strategies and Context</h3>

<p>The <em>Strategy</em> pattern employs <em>strategies</em>, objects of which
possess identical behavior. Our grill party relies on <em>strategies</em> to
tell us what <code>#type</code> of food they were. It&#39;s important that all strategy objects
have the same responsiblity and support the same interface, which in our case
was <code>grill.grilling</code>.</p>

<p>The <code>Grill</code> class is our <em>context</em> class, the operator of the
<em>strategies</em>, which uses the <code>HotDog#type</code>, <code>Hamburger#type</code>, and
<code>VeggiePatty#type</code> interchangeably.</p>

<p>Through our contrived example, we see the immediate benefits of this
design pattern:</p>

<ul>
<li><em>Separation of concerns</em></li>
<li><em>Strategies</em> at runtime</li>
</ul>

<p>We&#39;ve achieved <em>separation of concerns</em> by designating the <code>#type</code>
method as our desired set of <em>strategies</em>. <code>HotDog</code>, <code>Hamburger</code> and
<code>VeggiePatty</code>  are unaware of our implementation of <code>Grill#grilling</code>.</p>

<p>As for runtime flexibility, we&#39;re able to switch out the items up on the
grill.</p>

<h3>Special Patties: Lambdas</h3>

<p>As we&#39;re grilling our hamburger and veggies patties, a last minute guest
arrives, and she has brought some bacon, jalapeños, and onions.
Let&#39;s make some custom patties, but avoid creating more subclasses of
<code>Food</code>. What could we do here?</p>

<p>A quick and awesome solution would be to use <em>lambdas</em>!</p>

<p>Since we expect our <em>strategies</em> to return <code>Strings</code> for food <code>#type</code>,
we can create a <em>lambda</em> which will behave just like the other strategy
objects and return a <code>String</code>.</p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre><span class="constant">CUSTOMPATTY</span> = lambda { |type| <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>type<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span> }
</pre></td>
</tr></table>
</div></div>
<p>Next, let&#39;s get back to our <code>Grill</code> class and alter the class a little
bit.</p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
</pre></td>
  <td class="code"><pre><span class="keyword">class</span> <span class="class">Grill</span>
  attr_accessor <span class="symbol">:food</span>

  <span class="keyword">def</span> <span class="function">initialize</span> food
    <span class="instance-variable">@food</span> = food
  <span class="keyword">end</span>

  <span class="keyword">def</span> <span class="function">grilling</span>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">Grilling the </span><span class="inline"><span class="inline-delimiter">#{</span>print_food<span class="inline-delimiter">}</span></span><span class="content">!</span><span class="delimiter">&quot;</span></span>
  <span class="keyword">end</span>

  private

  <span class="keyword">def</span> <span class="function">print_food</span>
    food_is_string? ? food : food.type
  <span class="keyword">end</span>

  <span class="keyword">def</span> <span class="function">food_is_string?</span>
    food.is_a? <span class="constant">String</span>
  <span class="keyword">end</span>
<span class="keyword">end</span>
</pre></td>
</tr></table>
</div></div>
<p>Since we know the <em>strategies</em> are <code>Strings</code>, we&#39;ve created two
<code>private</code> methods, <code>#print_food</code> and <code>#food_is_string</code>.
<code>#food_is_string</code> will check if <code>Grill</code> has received a
<code>String</code> or not, and <code>#print_food</code> will handle <em>lambdas</em> or <em>classes</em> of
food.</p>

<p>Now let&#39;s try grilling some hot dogs and custom patties!</p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
</pre></td>
  <td class="code"><pre>jalapeños = <span class="constant">CUSTOMPATTY</span>.call <span class="string"><span class="delimiter">'</span><span class="content">spicy jalapeños patties</span><span class="delimiter">'</span></span>
bacon = <span class="constant">CUSTOMPATTY</span>.call <span class="string"><span class="delimiter">'</span><span class="content">greasy, yummy bacon patties</span><span class="delimiter">'</span></span>

grill = <span class="constant">Grill</span>.new jalapeños
grill.grilling <span class="comment"># =&gt; &quot;Grilling the spicy jalapeños patties!&quot;</span>

grill.food = bacon
grill.grilling <span class="comment"># =&gt; &quot;Grilling the greasy, yummy bacon patties!&quot;</span>

grill.food = <span class="constant">HotDog</span>.new
grill.grilling <span class="comment"># =&gt; &quot;Grilling the hot dogs!&quot;</span>
</pre></td>
</tr></table>
</div></div>
<h3>Mmm-mmmm... That is a tasty burger.</h3>

<p>The <em>Strategy</em> pattern is a delagation-based design pattern, and shares
some similarities with the <em>Template Method</em> pattern. However, instead
of depending so heavily on inheiritance between a superclass and
subclasses to use our target algorithm, we take our algorithm and
consider it as a separate object. As long as we remember the
relationship between the <em>strategies</em> and the <em>context</em>, we earn real
advantages over the <em>Template Method</em>, as seen in our custom patty
example.</p>

<p>I hope you had fun at our day party, and we&#39;ll next explore the
<em>Observer</em> pattern.</p>
<div class='post__share'><div class='post__share__links'><a class='twitter-share-button' data-url='http://reefpoints.dockyard.com/2013/07/25/design-patterns-strategy-pattern.html' data-via='DockYard' href='https://twitter.com/share'>Tweet</a><script>
  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='//platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');
</script><div class='g-plusone' data-href='#' data-size='medium' data-width='100'></div><script>
  (function() {var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;po.src = 'https://apis.google.com/js/plusone.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);})();
</script></div><p>This article is brought to you by <a class='text-link' href='http://www.dockyard.com/'>DockYard</a>. If you see an issue, please send a <a href='https://github.com/dockyard/reefpoints/blob/master/source/posts/', class='text-link post__issue', target: '_blank'>pull request</a> to contribute.</p><a class='button--post' href='http://www.dockyard.com/hire-us'>Hire Us</a></div></current_page></div></div><div class='post__comments'><div id='disqus_thread'></div><script>
  var disqus_shortname = 'reefpoints';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script><noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus</a>.</noscript></noscript></div><script>
  var path = window.location.pathname.split('/').reverse();
  var postname = path[0].split('.');
  var change = postname[0] + '.md';
  var newpath = 'https://github.com/dockyard/reefpoints/blob/master/source/posts/' + path[3] + '-' + path[2] + '-' + path[1] + '-' + change
  $('.post__issue').attr('href', newpath);
  
  $('.search').submit(function(event) {
    event.preventDefault();
    window.location = $(this).data('url') + '#q=' + $('.search__input').val();
  });
</script>
<h2 class='nothin'>Your search returned no results. Perhaps you should try again.</h2></div><div class='push--big'></div><footer><div class='l-wrap'><div class='footer-group'><h3 class='footer-group__title'>EVENTS</h3><nav><a class='footer__event' href='http://wickedgoodruby.com/' target='_blank'><div class='footer__event--wgr'></div><h4 class='footer-title'>Wicked Good Ruby Conf</h4></a><a class='footer__event' href='http://www.meetup.com/Boston-Ember-js/' target='_blank'><div class='footer__event--ember'></div><h4 class='footer-title'>Boston Ember.js Meetup</h4></a><a class='footer__event' href='http://www.meetup.com/uxboston/' target='_blank'><div class='footer__event--ux'></div><h4 class='footer-title'>UX Boston Meetup</h4></a><a class='footer__event' href='http://openhack.github.io/boston/' target='_blank'><div class='footer__event--openhack'></div><h4 class='footer-title'>OpenHack Boston</h4></a></nav></div><div class='footer-group'><a href='/'><h3 class='footer-group__title'>BLOG</h3></a><nav class='blog-nav--footer'><a class='blog-nav-item--footer' href='/2013/11/15/think.html'><h4 class='footer-title'>Think</h4><p class='footer-desc'>Don't do what others tell you to do without thinking about it</p></a><a class='blog-nav-item--footer' href='/2013/11/11/capybara-extensions.html'><h4 class='footer-title'>Introducing Capybara-Extensions</h4><p class='footer-desc'>Write more descriptive tests with additional finders and matchers for Capybara.</p></a><a class='blog-nav-item--footer' href='/2013/11/05/design-patterns-command-pattern.html'><h4 class='footer-title'>Design Patterns: The Command Pattern</h4><p class='footer-desc'>Exploring design patterns and their use cases</p></a></nav></div><div class='footer-group'><a href='/hire-us'><h3 class='footer-group__title'>CONTACT</h3></a><p class='footer-desc'>DockYard HQ is located in Boston. Stop in sometime and meet our team!</p><a class='footer-address has-border--top' href='https://www.google.com/maps/preview#!q=DockYard%2C+Tremont+Street+%23200%2C+Boston%2C+MA&amp;data=!4m15!2m14!1m13!1s0x89e37083512ceab3%3A0x1e657c639844318d!3m8!1m3!1d197180!2d-70.970284!3d42.31435!3m2!1i400!2i802!4f13.1!4m2!3d42.357236!4d-71.061077' target='_blank'><p class='footer-desc'>DockYard Inc.</p><p class='footer-desc'>101 Tremont Street</p><p class='footer-desc'>Suite 200</p><p class='footer-desc'>Boston, MA 02108</p></a><a class="text-link" href="http://www.dockyard.com/hire-us">Get in touch.</a><div class='footer-social has-border--top'><a class='social-nav-item' data-icon='#' href='https://twitter.com/dockyard' target='_blank'><span class='is-hidden'>Twitter</span></a><a class='social-nav-item' data-icon='★' href='https://github.com/dockyard' target='_blank'><span class='is-hidden'>GitHub</span></a><a class='social-nav-item' data-icon='✒' href='http://reefpoints.dockyard.com/atom.xml' target='_blank'><span class='is-hidden'>RSS</span></a></div></div></div></footer><audio class='foghorn' preload='auto' src='/sound/foghorn.mp3'></audio><script>
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'reefpoints'; // required: replace example with your forum shortname
  
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script></body></html>
