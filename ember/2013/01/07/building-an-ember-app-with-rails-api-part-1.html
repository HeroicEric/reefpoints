<!DOCTYPE html><html><head><title>Building an Ember app with RailsAPI - Part 1</title><link href="/stylesheets/all-4784c6c9.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all-d0af4672.js" type="text/javascript"></script><meta content='NO-CACHE' http-equiv='CACHE-CONTROL'><meta content='DockYard is a Ruby on Rails, PostgreSQL, and, Ember.js, web / mobile application development software consultancy based in Boston, MA.' namer='description'><meta content='ruby on rails, rails, ruby, ruby on rails training, ruby application development, ruby on rails application development, ember application development, ember.js application development, software application development, web, web application development, mobile, mobile application development, ios, ios application development, iphone, iphone application development, android, android application development, postgres, startups, enterprise, Boston, MA, Massachusetts, for hire' name='keywords'><meta content='web development, mobile development, startups, enterprise, ruby on rails, rails, ruby, ruby on rails training, Boston, for hire' name='keywords'><meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0' name='viewport'><meta content='DockYard.com - Setting up RailsAPI for writing an Ember App' name='description'><meta content='bcardarella' name='twitter:creator'><meta content='summary' name='twitter:card'><meta content='@DockYard' name='twitter:site'><meta content='http://reefpoints.dockyard.com/ember/2013/01/07/building-an-ember-app-with-rails-api-part-1.html' name='twitter:url'><meta content='Building an Ember app with RailsAPI - Part 1' name='twitter:title'><meta content='Setting up RailsAPI for writing an Ember App' name='twitter:description'><link href='http://dockyard.com/humans.txt' rel='author'><link href='/apple-touch-icon.png' rel='apple-touch-icon'><link href='/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed'><script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-24185112-2']);
    _gaq.push(['_trackPageview']);
  
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
<!--
                                                                    ..
                                                                 ,Z+O.
                                                              .OO.O..
                                                             OZ..O.
                                                         ..OO..87.
                                                        .O7O..O...
                                                      .O...Z~O.
                                                   .:Z~. ..Z..
                                                  +O.O   .8..
                                     ...       .OO.  O  O?.
                             ..ZOOOOOOOOOZOOO.ZOZ.   .OO..
                           .OOOOOOOOOOOOOOOOOO..Z.   $O.
                         .ZOOOOOOOOOOOOOOOOOO.  .O..O.
                        .ZOOOOOOOOOOOOOOOOOOOZ  .:O$.
                        OZOOOOOOOOOOO...OOOOOOOZ$ZO
                      ..OOOOOOOOOOOOO  .OOOOOOOOOOO..
                      .OOOOOOOOOOOOOOOOOOOOOOOOOOOOO.
                      .OOOOOOOOOOOOOOOOOOOOOOOOOOOOZ.
                      OOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.
                     .OOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.
                     :OOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.
                     ZOOOOOOOOOOOOOOOOOOOOOOOOOOOOOZ.
                     OOOOOOOOOOOOOOOOOOOOOOOOOOOO7OO.
                     ZOOOOOOOOOOOOOOOOOOOOOOOOOOOOOZ.
                     OOOOOOZOOOOOOOO.ZOOOOOOOOOOO7OO.
                     ZOOOOO.OOOOOOOO.OOOOOOOOOO.  OO.
...     ..           OOOOO.OOOOOOOO.OOOOOOOOO.   .O:
.OOZ...OOO.        ..OOOOO.OOOOOOO.OOOOOOOOZ.    .Z..
.OOOOOOOOO         .ZOOOOO.OOOOO..OOOOOOOO~      .Z
 .OOOOOOO.         .OOOOOO.OZZ..OOOOOOOOO.      .?O
  .OOOOOI.        .OOOOOOO..,ZOOOOOOOOOO..      .O.
   .OOOOZ.      ..ZOOOOOOOOOOOOOOOOOOOO~        .O.
   .OOOOO= .....ZOOOOOOOOOOOOOOOOOOOOOO.      ..O.
   ..OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOZ       .,OO.
    .ZOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.     ...OO..
     .OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.   ...OO.
     ..ZOOOOOOOOOOOOOOOOOOOOOOOOOOOO.... OZO..
      ...OOOOOOOOOOOOOOOOOOOOOOOOOOZOOOZO...
          .....~OOOOOOOOOOOOOOOOO:........
                ................
--></head><body id='blog'><header id='mobile-header'><div class='wrap'><a class='header-logo' href='/'>DockYard</a><div class='menu-button'></div></div><ul class='flexnav' data-breakpoint='481' id='mobile-nav'><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='http://dockyard.com'><span class='mobile-nav-icon fontello'>h</span><p class='main-nav-item'>Home</p></a></li><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='http://dockyard.com'><span class='mobile-nav-icon fontello'>w</span><p class='main-nav-item'>Work</p></a></li><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='http://dockyard.com'><span class='mobile-nav-icon fontello'>p</span><p class='main-nav-item'>Team</p></a></li><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='http://dockyard.com'><span class='mobile-nav-icon fontello'>c</span><p class='main-nav-item'>Community</p></a></li><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='/'><span class='mobile-nav-icon fontello'>b</span><p class='main-nav-item'>Blog</p></a></li><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='http://dockyard.com/hire-us'><span class='mobile-nav-icon fontello'>m</span><p class='main-nav-item'>Contact</p></a></li></ul></header><header id='site-header'><div class='wrap'><h1><a class='header-logo' href='http://dockyard.com'>DockYard</a></h1><ul class='main-nav'><li class='nav-work'><a class='main-nav-item' href='http://dockyard.com/work'>Work</a></li><li class='nav-work'><a class='main-nav-item' href='http://dockyard.com/team'>Team</a></li><li class='nav-work'><a class='main-nav-item' href='http://dockyard.com/community'>Community</a></li><li class='nav-work'><a class='main-nav-item current' href='/'>Blog</a></li><li class='nav-work'><a class='main-nav-item' href='http://dockyard.com/contact'>Contact</a></li></ul></div></header><section id='content'><section id='post'><aside class='post-metas-wrap'><ul class='post-metas'><li class='post-meta'><a class="post-author" href="/authors/brian-cardarella.html">Brian Cardarella</a></li><li class='post-meta'><span><a class='link link-in-post fontello' href='http://twitter.com/bcardarella' target='_blank'>t</a><a class='link link-in-post fontello' href='https://github.com/bcardarella' target='_blank'>g</a></span></li><li class='post-meta post-date'>07 Jan 2013</li></ul></aside><div class='post-div'><p class='post-meta post-tags'><a class="tag-link" href="/categories/ember.html">Ember.js (9)</a>, <a class="tag-link" href="/categories/javascript.html">JavaScript (8)</a>, <a class="tag-link" href="/categories/ruby-on-rails.html">Ruby on Rails (25)</a><a class="tag-link" style="float: right" href="/categories.html">See all categories</a></p><div class='post-title-wrap'><h1 class='post-title'>Building an Ember app with RailsAPI - Part 1</h1></div><current_page class='post-content'><p><strong>This article was last updated on May 28, 2013 and reflects the state
 of Ember (1.0.0-rc4) and the latest build of Ember Data (0.13) as of
that date.</strong></p>

<p><a href="https://github.com/bcardarella/ember-railsapi">Fork the project on Github!</a></p>

<p><a href="http://ember-rails-api.herokuapp.com/">Use the app live on Heroku</a></p>

<p>Lately I&#39;ve been playing with <a href="http://emberjs.com">Ember.js</a> and I have
really grown to love it. I get the same &quot;AHA!&quot; feeling I got building my
first <a href="http://rubyonrails.org">Rails</a> app 7 years ago. Let&#39;s see how to
build a simple
<a href="http://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> app
using the <a href="https://github.com/rails-api/rails-api">RailsAPI</a> as the
backend. We&#39;re going to build a new app and deploy to Heroku.</p>

<h2>Part 1 - Getting Set Up</h2>
<div class="highlight text "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>gem install rails-api
rails-api new ember-app
cd ember-app
</pre></td>
</tr></table>
</div></div>
<p>Similar to the <code>rails</code> command <code>RailsAPI</code> comes with a <code>rails-api</code>
command which under the hood is just using the normal <code>rails</code> CLI code
but overriding some of the templates generated. Out of the box
<code>RailsAPI</code> won&#39;t generate the <a href="http://guides.rubyonrails.org/asset_pipeline.html">asset pipeline</a> directories
as there is <a href="https://github.com/rails-api/rails-api/issues/50">still some
debate</a> if it will use
<a href="https://github.com/sstephenson/sprockets">Sprockets</a>,
<a href="https://github.com/livingsocial/rake-pipeline">Rake-Pipeline</a> or some
other solution. In this example we&#39;re going to use Sprockets as it will
save us a lot of time. <code>RailsAPI</code> is bundled with
<a href="https://github.com/rails/rails/blob/3-2-stable/actionpack/actionpack.gemspec">ActionPack</a>
which has <code>Sprockets</code> as a dependency. All we need to do is add in the
directories</p>
<div class="highlight text "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
</pre></td>
  <td class="code"><pre>mkdir -p app/assets/{javascripts,stylesheets,images}
mkdir -p vendor/assets/{javascripts,stylesheets,images}
</pre></td>
</tr></table>
</div></div>
<p>Now we need to copy in the vendored asset files. You can either build yourself our run the following to copy directly from my Github project</p>
<div class="highlight text "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre>cd vendor/assets/javascripts
wget https://raw.github.com/bcardarella/ember-railsapi/master/vendor/assets/javascripts/ember-data.js
wget https://raw.github.com/bcardarella/ember-railsapi/master/vendor/assets/javascripts/ember.js
wget https://raw.github.com/bcardarella/ember-railsapi/master/vendor/assets/javascripts/jquery.js
wget https://raw.github.com/bcardarella/ember-railsapi/master/vendor/assets/javascripts/modernizr.js
cd ../../..
</pre></td>
</tr></table>
</div></div>
<p>Note that if you&#39;re a Mac user, just replace <code>wget</code> (the Linux command) with <code>curl -O</code> (the Unix command) on the above lines.</p>

<p>Let&#39;s setup the directory structure for our Ember app</p>
<div class="highlight text "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>mkdir -p app/assets/javascripts/{controllers,models,views,templates}
</pre></td>
</tr></table>
</div></div>
<p>And now we&#39;ll setup the load order in our <code>app/assets/javascripts/application.coffee</code> file</p>
<div class="highlight coffeescript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
</pre></td>
  <td class="code"><pre>#= require modernizr
#= require jquery
#= require handlebars
#= require ember
#= require ember-data
#= require bootstrap
#= require_self
#= require store
#= require routes
#= require_tree ./controllers
#= require_tree ./models
#= require_tree ./templates
#= require_tree ./views

window.App = Ember.Application.create()
</pre></td>
</tr></table>
</div></div>
<p>Add the <code>routes.coffee</code> and <code>store.coffee</code> files:</p>
<div class="highlight text "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
</pre></td>
  <td class="code"><pre>touch app/assets/javascripts/routes.coffee
touch app/assets/javascripts/store.coffee
</pre></td>
</tr></table>
</div></div>
<p>And the <code>app/assets/stylesheets/application.sass</code> file</p>
<div class="highlight sass "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre><span class="directive">@import</span> <span class="string"><span class="delimiter">'</span><span class="content">bootstrap</span><span class="delimiter">'</span></span>

<span class="tag">body</span>
  <span class="key">padding-top</span>: <span class="float">60px</span>
</pre></td>
</tr></table>
</div></div>
<p>That was a good amount of setup. Now we have the application structure for an Ember app in our asset pipeline. This will make things cleaner once we start coding.</p>

<p>Let&#39;s setup the necessary gem dependencies in our <code>Gemfile</code>. Just replace the entire contents with the following:</p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
22
23
24
25
26
27
28
29
<strong>30</strong>
</pre></td>
  <td class="code"><pre>source <span class="string"><span class="delimiter">'</span><span class="content">https://rubygems.org</span><span class="delimiter">'</span></span>

ruby <span class="string"><span class="delimiter">'</span><span class="content">2.0.0</span><span class="delimiter">'</span></span>

gem <span class="string"><span class="delimiter">'</span><span class="content">rails</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">3.2.13</span><span class="delimiter">'</span></span>
gem <span class="string"><span class="delimiter">'</span><span class="content">rails-api</span><span class="delimiter">'</span></span>
gem <span class="string"><span class="delimiter">'</span><span class="content">thin</span><span class="delimiter">'</span></span>
gem <span class="string"><span class="delimiter">'</span><span class="content">active_model_serializers</span><span class="delimiter">'</span></span>, <span class="symbol">:github</span> =&gt; <span class="string"><span class="delimiter">'</span><span class="content">rails-api/active_model_serializers</span><span class="delimiter">'</span></span>

group <span class="symbol">:development</span>, <span class="symbol">:test</span> <span class="keyword">do</span>
  gem <span class="string"><span class="delimiter">'</span><span class="content">debugger</span><span class="delimiter">'</span></span>
  gem <span class="string"><span class="delimiter">'</span><span class="content">sqlite3</span><span class="delimiter">'</span></span>
<span class="keyword">end</span>

group <span class="symbol">:production</span> <span class="keyword">do</span>
  gem <span class="string"><span class="delimiter">'</span><span class="content">pg</span><span class="delimiter">'</span></span>
<span class="keyword">end</span>

group <span class="symbol">:assets</span> <span class="keyword">do</span>
  gem <span class="string"><span class="delimiter">'</span><span class="content">sass-rails</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">~&gt; 3.2</span><span class="delimiter">'</span></span>
  gem <span class="string"><span class="delimiter">'</span><span class="content">coffee-rails</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">~&gt; 3.2</span><span class="delimiter">'</span></span>
  gem <span class="string"><span class="delimiter">'</span><span class="content">compass-rails</span><span class="delimiter">'</span></span>
  gem <span class="string"><span class="delimiter">'</span><span class="content">uglifier</span><span class="delimiter">'</span></span>
  gem <span class="string"><span class="delimiter">'</span><span class="content">bootstrap-sass</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">~&gt; 2.0.3.0</span><span class="delimiter">'</span></span>
  gem <span class="string"><span class="delimiter">'</span><span class="content">handlebars_assets</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">0.12.3</span><span class="delimiter">'</span></span>
<span class="keyword">end</span>

group <span class="symbol">:development</span> <span class="keyword">do</span>
  gem <span class="string"><span class="delimiter">'</span><span class="content">quiet_assets</span><span class="delimiter">'</span></span>
<span class="keyword">end</span>
</pre></td>
</tr></table>
</div></div>
<p>There are two gems to take note of:</p>

<ul>
<li><a href="https://github.com/rails-api/active_model_serializers">ActiveModelSerializers</a> is a project that is written by the <code>Ember</code> core team which will normalize the <a href="http://en.wikipedia.org/wiki/JSON">JSON</a> output for models in a <code>Rails</code> app.</li>
<li><a href="https://github.com/leshill/handlebars_assets">HandlebarsAssets</a> will allow the <code>AssetPipeline</code> to compile <a href="http://handlebarsjs.com/">Handlebars</a> templates which is required for Ember. There is the <a href="https://github.com/emberjs/ember-rails">Ember-Rails</a> gem which will also do this but I have found <code>HandlebarsAssets</code> to be a leaner solution.</li>
</ul>

<p>After this, don&#39;t forget to run <code>bundle install</code> from the command line to pick up the gems we just added.</p>

<p>Let&#39;s create a simple model and the serializer</p>
<div class="highlight text "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
</pre></td>
  <td class="code"><pre>rails-api g model User first_name:string last_name:string quote:text
rails-api g serializer User
</pre></td>
</tr></table>
</div></div>
<p>Run &#39;rake db:migrate&#39; to run the migration for our User model. Now open up <code>app/serializers/user_serializer.rb</code> and add the fields that require serialization</p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="keyword">class</span> <span class="class">UserSerializer</span> &lt; <span class="constant">ActiveModel</span>::<span class="constant">Serializer</span>
  attributes <span class="symbol">:id</span>, <span class="symbol">:first_name</span>, <span class="symbol">:last_name</span>, <span class="symbol">:quote</span>
<span class="keyword">end</span>
</pre></td>
</tr></table>
</div></div>
<p>Again, this will instruct <code>Rails</code> to turn our <code>ActiveRecord</code> object into a <code>JSON</code> object properly normalized for <code>Ember</code>. </p>

<p>Let&#39;s write the Controller. Create and edit <code>app/controllers/users_controller.rb</code></p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="keyword">class</span> <span class="class">UsersController</span> &lt; <span class="constant">ApplicationController</span>
  <span class="keyword">def</span> <span class="function">index</span>
    render <span class="key">json</span>: <span class="constant">User</span>.all
  <span class="keyword">end</span>
<span class="keyword">end</span>
</pre></td>
</tr></table>
</div></div>
<p>Take note that we are inheriting <code>ApplicationController</code> but in a <code>RailsAPI</code> app <code>ApplicationController</code> itself inherits from <code>ActionController::API</code> instead of <code>ActionController::Base</code>.</p>

<p>This basic controller will serve up all of our users to our Ember app. We&#39;ll add more later.</p>

<p>Now let&#39;s add some routes to <code>config/routes.rb</code></p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
</pre></td>
  <td class="code"><pre><span class="constant">EmberApp</span>::<span class="constant">Application</span>.routes.draw <span class="keyword">do</span>
  <span class="keyword">class</span> <span class="class">FormatTest</span>
    attr_accessor <span class="symbol">:mime_type</span>

    <span class="keyword">def</span> <span class="function">initialize</span>(format)
      <span class="instance-variable">@mime_type</span> = <span class="constant">Mime</span>::<span class="constant">Type</span>.lookup_by_extension(format)
    <span class="keyword">end</span>

    <span class="keyword">def</span> <span class="function">matches?</span>(request)
      request.format == mime_type
    <span class="keyword">end</span>
  <span class="keyword">end</span>

  resources <span class="symbol">:users</span>, <span class="symbol">:except</span> =&gt; <span class="symbol">:edit</span>, <span class="symbol">:constraints</span> =&gt; <span class="constant">FormatTest</span>.new(<span class="symbol">:json</span>)
  get <span class="string"><span class="delimiter">'</span><span class="content">*foo</span><span class="delimiter">'</span></span>, <span class="symbol">:to</span> =&gt; <span class="string"><span class="delimiter">'</span><span class="content">ember#index</span><span class="delimiter">'</span></span>, <span class="symbol">:constraints</span> =&gt; <span class="constant">FormatTest</span>.new(<span class="symbol">:html</span>)
  get <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span>, <span class="symbol">:to</span> =&gt; <span class="string"><span class="delimiter">'</span><span class="content">ember#index</span><span class="delimiter">'</span></span>, <span class="symbol">:constraints</span> =&gt; <span class="constant">FormatTest</span>.new(<span class="symbol">:html</span>)
<span class="keyword">end</span>
</pre></td>
</tr></table>
</div></div>
<p>A few things are happening here:</p>

<ul>
<li>We are constraining against the format with a custom <code>FormatTest</code> class. We only want to map certain routes to <code>JSON</code> requests and certain routes to <code>HTML</code> requesets.</li>
<li>The <code>get &#39;*foo&#39;...</code> will greedily match all routes except <code>/</code> so we have the following line. We want to direct all <code>HTML</code> requests to a single <code>controller#action</code>. I will go into the reason why in a bit.</li>
</ul>

<p>So let&#39;s create that <code>Ember</code> controller. This will act as the primary application serving controller that is hit when people visit the app. Create and edit <code>app/controllers/ember_controller.rb</code></p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre><span class="keyword">class</span> <span class="class">EmberController</span> &lt; <span class="constant">ActionController</span>::<span class="constant">Base</span>; <span class="keyword">end</span>
</pre></td>
</tr></table>
</div></div>
<p>Note that we are inheriting from <code>ActionController::Base</code> this time and not <code>ApplicationController</code>. This is so that the controller actions can respond to non <code>JSON</code> requests.</p>

<p>Now we will add the view in <code>app/views/ember/index.html.erb</code></p>
<div class="highlight erb "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td>
  <td class="code"><pre><span class="doctype">&lt;!DOCTYPE html&gt;</span>
<span class="tag">&lt;html</span> <span class="attribute-name">lang</span>=<span class="string"><span class="delimiter">'</span><span class="content">en</span><span class="delimiter">'</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;head&gt;</span>
    <span class="inline"><span class="inline-delimiter">&lt;%=</span> stylesheet_link_tag <span class="symbol">:application</span>, <span class="symbol">:media</span> =&gt; <span class="symbol">:all</span> <span class="inline-delimiter">%&gt;</span></span>
    <span class="inline"><span class="inline-delimiter">&lt;%=</span> javascript_include_tag <span class="symbol">:application</span> <span class="inline-delimiter">%&gt;</span></span>
    <span class="tag">&lt;title&gt;</span>Title<span class="tag">&lt;/title&gt;</span>
  <span class="tag">&lt;/head&gt;</span>
  <span class="tag">&lt;body&gt;</span>
  <span class="tag">&lt;/body&gt;</span>
<span class="tag">&lt;/html&gt;</span>
</pre></td>
</tr></table>
</div></div>
<p>That is all the view that your Ember app will need. Ember will automatically attach its own default template to the <code>&lt;body&gt;</code> tag.</p>

<p>Let&#39;s add some data to <code>db/seeds.rb</code></p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
</pre></td>
  <td class="code"><pre><span class="constant">User</span>.create(<span class="symbol">:first_name</span> =&gt; <span class="string"><span class="delimiter">'</span><span class="content">William</span><span class="delimiter">'</span></span>, <span class="symbol">:last_name</span> =&gt; <span class="string"><span class="delimiter">'</span><span class="content">Harrison</span><span class="delimiter">'</span></span>, <span class="symbol">:quote</span> =&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">I'm just singin' in the rain!</span><span class="delimiter">&quot;</span></span>)
<span class="constant">User</span>.create(<span class="symbol">:first_name</span> =&gt; <span class="string"><span class="delimiter">'</span><span class="content">Abraham</span><span class="delimiter">'</span></span>, <span class="symbol">:last_name</span> =&gt; <span class="string"><span class="delimiter">'</span><span class="content">Lincoln</span><span class="delimiter">'</span></span>, <span class="symbol">:quote</span> =&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">I'd like to see a show tonight.</span><span class="delimiter">&quot;</span></span>)
</pre></td>
</tr></table>
</div></div>
<p>Now run your migrations and seed</p>
<div class="highlight text "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>rake db:migrate db:seed
</pre></td>
</tr></table>
</div></div>
<p>Ok, now our app is in a good spot to start developing an Ember app with. Let&#39;s review what we did</p>

<ol>
<li>Generated a new app using <code>rails-api</code></li>
<li>Set up the javascript and stylesheet assets</li>
<li>Wrote a very simple JSON API for returning all users</li>
</ol>

<p>In <a href="http://reefpoints.dockyard.com/ember/2013/01/09/building-an-ember-app-with-rails-api-part-2.html">Part 2</a> we&#39;ll build the Ember app itself.</p>
</current_page><p class='issue'>See a problem with the current page? &nbsp;<a href='https://github.com/dockyard/reefpoints/blob/master/source/posts/' target='_blank'>Send a pull request to contribute, we'll happily accept!</a></p><section class='post-share'><h1>Like the current page? Please share!</h1><div class='social-button'><a class='twitter-share-button' data-url='http://reefpoints.dockyard.com/ember/2013/01/07/building-an-ember-app-with-rails-api-part-1.html' data-via='DockYard' href='https://twitter.com/share'>Tweet</a></div><script>
  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='//platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');
</script><div class='social-button'><div class='g-plusone' data-href='#' data-size='medium' data-width='100'></div><script>
  (function() {var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;po.src = 'https://apis.google.com/js/plusone.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);})();
</script></div></section><section id='post-comments'><div id='disqus_thread'></div><script>
  var disqus_shortname = 'reefpoints';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script><noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a></noscript></noscript></section></div></section><script>
  var path = window.location.pathname.split('/').reverse();
  var postname = path[0].split('.');
  var change = postname[0] + '.md';
  var newpath = 'https://github.com/dockyard/reefpoints/blob/master/source/posts/' + path[3] + '-' + path[2] + '-' + path[1] + '-' + change
  $('.issue a').attr('href', newpath);
</script>
</section><footer><ul class='footer-links'><li><a class='link link-in-footer fontello' href='https://github.com/DockYard' target='_blank'>g</a></li><li><a class='link link-in-footer fontello' href='https://twitter.com/DockYard' target='_blank'>t</a></li><li><a class='link link-in-footer fontello' href='http://reefpoints.dockyard.com/atom.xml' target='_blank'>r</a></li><li><a class='link link-in-footer fontello' href='http://dockyard.com/hire-us' target='_blank'>m</a></li></ul><form class='footer-form'><label class='footer-form-label'>Get in touch with us!</label><input class='footer-form-input' placeholder='Email' type='text'><button class='footer-form-submit fontello' href='http://dockyard.com/contact'>R</button></form><a class='footer-number' href='tel:855-362-5973'>(855) DOCK-YRD</a><p class='footer-copyright'>&copy; 2013 DockYard, LLC. All Rights Reserved.</p></footer><audio class='foghorn' preload='auto' src='/sound/foghorn.mp3'></audio><script>
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'reefpoints'; // required: replace example with your forum shortname
  
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script></body></html>
