<!DOCTYPE html><html><head><title>ClientSideValidations 3.2 Released!</title><link href="/stylesheets/all-2fe3bae3.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all-d0af4672.js" type="text/javascript"></script><meta content='NO-CACHE' http-equiv='CACHE-CONTROL'><meta content='DockYard is a Ruby on Rails, PostgreSQL, and, Ember.js, web / mobile application development software consultancy based in Boston, MA.' namer='description'><meta content='ruby on rails, rails, ruby, ruby on rails training, ruby application development, ruby on rails application development, ember application development, ember.js application development, software application development, web, web application development, mobile, mobile application development, ios, ios application development, iphone, iphone application development, android, android application development, postgres, startups, enterprise, Boston, MA, Massachusetts, for hire' name='keywords'><meta content='web development, mobile development, startups, enterprise, ruby on rails, rails, ruby, ruby on rails training, Boston, for hire' name='keywords'><meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0' name='viewport'><meta content='DockYard.com - Better late than never' name='description'><meta content='bcardarella' name='twitter:creator'><meta content='summary' name='twitter:card'><meta content='@DockYard' name='twitter:site'><meta content='http://reefpoints.dockyard.com/ruby/2012/10/09/client-side-validations-3-2-released.html' name='twitter:url'><meta content='ClientSideValidations 3.2 Released!' name='twitter:title'><meta content='Better late than never' name='twitter:description'><link href='http://dockyard.com/humans.txt' rel='author'><link href='/apple-touch-icon.png' rel='apple-touch-icon'><link href='/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed'><script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-24185112-2']);
    _gaq.push(['_trackPageview']);
  
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
<!--
                                                                    ..
                                                                 ,Z+O.
                                                              .OO.O..
                                                             OZ..O.
                                                         ..OO..87.
                                                        .O7O..O...
                                                      .O...Z~O.
                                                   .:Z~. ..Z..
                                                  +O.O   .8..
                                     ...       .OO.  O  O?.
                             ..ZOOOOOOOOOZOOO.ZOZ.   .OO..
                           .OOOOOOOOOOOOOOOOOO..Z.   $O.
                         .ZOOOOOOOOOOOOOOOOOO.  .O..O.
                        .ZOOOOOOOOOOOOOOOOOOOZ  .:O$.
                        OZOOOOOOOOOOO...OOOOOOOZ$ZO
                      ..OOOOOOOOOOOOO  .OOOOOOOOOOO..
                      .OOOOOOOOOOOOOOOOOOOOOOOOOOOOO.
                      .OOOOOOOOOOOOOOOOOOOOOOOOOOOOZ.
                      OOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.
                     .OOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.
                     :OOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.
                     ZOOOOOOOOOOOOOOOOOOOOOOOOOOOOOZ.
                     OOOOOOOOOOOOOOOOOOOOOOOOOOOO7OO.
                     ZOOOOOOOOOOOOOOOOOOOOOOOOOOOOOZ.
                     OOOOOOZOOOOOOOO.ZOOOOOOOOOOO7OO.
                     ZOOOOO.OOOOOOOO.OOOOOOOOOO.  OO.
...     ..           OOOOO.OOOOOOOO.OOOOOOOOO.   .O:
.OOZ...OOO.        ..OOOOO.OOOOOOO.OOOOOOOOZ.    .Z..
.OOOOOOOOO         .ZOOOOO.OOOOO..OOOOOOOO~      .Z
 .OOOOOOO.         .OOOOOO.OZZ..OOOOOOOOO.      .?O
  .OOOOOI.        .OOOOOOO..,ZOOOOOOOOOO..      .O.
   .OOOOZ.      ..ZOOOOOOOOOOOOOOOOOOOO~        .O.
   .OOOOO= .....ZOOOOOOOOOOOOOOOOOOOOOO.      ..O.
   ..OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOZ       .,OO.
    .ZOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.     ...OO..
     .OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.   ...OO.
     ..ZOOOOOOOOOOOOOOOOOOOOOOOOOOOO.... OZO..
      ...OOOOOOOOOOOOOOOOOOOOOOOOOOZOOOZO...
          .....~OOOOOOOOOOOOOOOOO:........
                ................
--></head><body id='blog'><header id='mobile-header'><div class='wrap'><a class='header-logo' href='/'>DockYard</a><div class='menu-button'></div></div><ul class='flexnav' data-breakpoint='481' id='mobile-nav'><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='http://dockyard.com'><span class='mobile-nav-icon fontello'>h</span><p class='main-nav-item'>Home</p></a></li><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='http://dockyard.com'><span class='mobile-nav-icon fontello'>w</span><p class='main-nav-item'>Work</p></a></li><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='http://dockyard.com'><span class='mobile-nav-icon fontello'>p</span><p class='main-nav-item'>Team</p></a></li><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='http://dockyard.com'><span class='mobile-nav-icon fontello'>c</span><p class='main-nav-item'>Community</p></a></li><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='/'><span class='mobile-nav-icon fontello'>b</span><p class='main-nav-item'>Blog</p></a></li><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='http://dockyard.com/hire-us'><span class='mobile-nav-icon fontello'>m</span><p class='main-nav-item'>Contact</p></a></li></ul></header><header id='site-header'><div class='wrap'><h1><a class='header-logo' href='http://dockyard.com'>DockYard</a></h1><ul class='main-nav'><li class='nav-work'><a class='main-nav-item' href='http://dockyard.com/work'>Work</a></li><li class='nav-work'><a class='main-nav-item' href='http://dockyard.com/team'>Team</a></li><li class='nav-work'><a class='main-nav-item' href='http://dockyard.com/community'>Community</a></li><li class='nav-work'><a class='main-nav-item current' href='/'>Blog</a></li><li class='nav-work'><a class='main-nav-item' href='http://dockyard.com/contact'>Contact</a></li></ul></div></header><section id='content'><section id='post'><aside class='post-metas-wrap'><ul class='post-metas'><li class='post-meta'><a class="post-author" href="/authors/brian-cardarella.html">Brian Cardarella</a></li><li class='post-meta'><span><a class='link link-in-post fontello' href='http://twitter.com/bcardarella' target='_blank'>t</a><a class='link link-in-post fontello' href='https://github.com/bcardarella' target='_blank'>g</a></span></li><li class='post-meta post-date'>09 Oct 2012</li></ul></aside><div class='post-div'><p class='post-meta post-tags'><a class="tag-link" href="/categories/ruby.html">Ruby (34)</a>, <a class="tag-link" href="/categories/ruby-on-rails.html">Ruby on Rails (25)</a>, <a class="tag-link" href="/categories/gems.html">Gems (10)</a><a class="tag-link" style="float: right" href="/categories.html">See all categories</a></p><div class='post-title-wrap'><h1 class='post-title'>ClientSideValidations 3.2 Released!</h1></div><current_page class='post-content'><p>I just released <a href="https://github.com/bcardarella/client_side_validations">ClientSideValidations 3.2</a></p>

<p>This is a very big release for the gem, one that took <em>way</em> too much
time to get done. I want to start by re-introducing people to the gem,
what the value is, and what the changes for 3.2 are.</p>

<p>ClientSideValidations is just that, it will extract the validations from
your model and apply them to your forms on the client. The
<a href="https://github.com/bcardarella/client_side_validations/blob/master/README.md">README</a>
has more comprehensive instructions. But here is the quick guide:</p>

<p>Add <code>rails.validation.js</code> to your asset pipeline, then add <code>:validate =&gt;
true</code> to your form like so:</p>
<div class="highlight erb "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre><span class="inline"><span class="inline-delimiter">&lt;%=</span> form_for <span class="instance-variable">@user</span>, <span class="symbol">:validate</span> =&gt; <span class="predefined-constant">true</span> <span class="keyword">do</span> |f| <span class="inline-delimiter">%&gt;</span></span>
</pre></td>
</tr></table>
</div></div>
<p>And that is it. If you have more <a href="https://github.com/bcardarella/client_side_validations/blob/master/README.md#conditional-validators">complex validators</a> or 
<a href="https://github.com/bcardarella/client_side_validations/blob/master/README.md#custom-validators">custom validators</a>
on your models then you can quickly support these as well.</p>

<h2>Changes</h2>

<p>Version 3.2 brings many changes to the gem. The first of which is that
from this version on we will be following <a href="http://semver.org">Semantic Versioning</a> or trying our best to do so.</p>

<p>The next change, and the biggest backward-incompatible change, is that
the support for <code>SimpleForm</code>, <code>Formtastic</code>, <code>Mongoid</code>, and <code>MongoMapper</code>
have been removed. These have been put into their own
<a href="https://github.com/bcardarella/client_side_validations/wiki/Plugins">plugins</a>:</p>

<ul>
<li><a href="https://github.com/dockyard/client_side_validations-simple_form">SimpleForm</a></li>
<li><a href="https://github.com/dockyard/client_side_validations-formtastic">Formtastic</a></li>
<li><a href="https://github.com/dockyard/client_side_validations-mongoid">Mongoid</a></li>
<li><a href="https://github.com/dockyard/client_side_validations-mongo_mapper">MongoMapper</a></li>
</ul>

<p>This will be the convetion from now on. The <code>ClientSideValidations</code> gem
itself will only support <code>Rails</code> out of the box. If there are additional
FormBuilders or ORMs that people need support for these will be done so
via the plugins. This will allow for quicker bug fixes and less
complexity in the core gem.</p>

<p>I have also released a gem for <a href="https://github.com/dockyard/client_side_validations-turbolinks">Turbolinks support</a>.
Turbolinks support will be part of the core gem for the next release
(4.0).</p>

<p>There have been a significant number of bug fixes for this release. If
you ran into a bug before odds are it is now resolved.</p>

<p><code>Proc</code>s are now fullow supported in <code>ActiveModel</code> validators, you just
have to force the validation to evaluate:</p>
<div class="highlight erb "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre><span class="inline"><span class="inline-delimiter">&lt;%=</span> f.text_field, <span class="symbol">:validate</span> =&gt; { <span class="symbol">:length</span> =&gt; <span class="predefined-constant">true</span> } <span class="inline-delimiter">%&gt;</span></span>
</pre></td>
</tr></table>
</div></div>
<p>I have also added a FormBuilder method for adding validations for
attributes that are not being written to the form but may be added
dynamically later:</p>
<div class="highlight erb "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre><span class="inline"><span class="inline-delimiter">&lt;%=</span> f.validate <span class="symbol">:age</span>, <span class="symbol">:weight</span> <span class="inline-delimiter">%&gt;</span></span>
</pre></td>
</tr></table>
</div></div>
<p>This method can also take validator specific options.</p>

<h2>JavaScript API Additions and Changes</h2>

<p>The first major change is that <code>data-validate=&quot;true&quot;</code> is no longer
rendered on the inputs server-side. It is added to the input at
run-time.</p>

<p>The second is the addition of some <a href="https://github.com/bcardarella/client_side_validations/blob/master/README.md#enabling-disabling-and-resetting-on-the-client">jQuery functions</a>:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="predefined">$</span>(form or input).enableClientSideValidations();
<span class="predefined">$</span>(form or input).disableClientSideValidations();
<span class="predefined">$</span>(form).resetClientSideValidations();
</pre></td>
</tr></table>
</div></div>
<ul>
<li><p><code>$.fn.enableClientSideValidations()</code> acts upon either a form or input
and will enable them for ClientSideValidations. If you are adding
forms or inputs dynamically to the DOM via AJAX or some other means you
<em>need</em> to call this function on them.</p></li>
<li><p><code>$.fn.disableClientSideValidations()</code> acts upon either a form or an
input and will disable them for ClientSideValidations.</p></li>
<li><p><code>$.fn.resetClientSideValidations()</code> will reset the validations. This
means disabling, removing all error messages, and enabling
validaitons.</p></li>
</ul>

<h2>Security</h2>

<p>There have been some security fixes. Mostly around the <code>Uniqueness</code>
middleware.</p>

<ul>
<li><p>Calls to the uniqueness middleware only act upon models and
attributes that have a uniqueness validator defined in the model.</p></li>
<li><p>The <a href="https://github.com/bcardarella/client_side_validations/blob/master/README.md#security">API for turning off uniqueness app-wide has been changed</a>.</p></li>
</ul>

<h2>Backwards incompatiable changes</h2>

<ul>
<li><p>If you were relying upon <code>data-validate=&quot;true&quot;</code> being rendered on the
inputs from the server your code will break.</p></li>
<li><p><code>ClientSideValidations::Config.uniqueness_validator_disabled</code> has been
removed. Please add <code>ClientSideValidations::Config.disabled_validators
= [:uniqueness]</code> to your initializer if you require this functionality.</p></li>
</ul>

<p>Please give the gem a try and <a href="http://twitter.com/bcardarella">let me know</a> what you think!</p>
</current_page><p class='issue'>See a problem with the current page? &nbsp;<a href='https://github.com/dockyard/reefpoints/blob/master/source/posts/' target='_blank'>Send a pull request to contribute, we'll happily accept!</a></p><section class='post-share'><h1>Like the current page? Please share!</h1><div class='social-button'><a class='twitter-share-button' data-url='http://reefpoints.dockyard.com/ruby/2012/10/09/client-side-validations-3-2-released.html' data-via='DockYard' href='https://twitter.com/share'>Tweet</a></div><script>
  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='//platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');
</script><div class='social-button'><div class='g-plusone' data-href='#' data-size='medium' data-width='100'></div><script>
  (function() {var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;po.src = 'https://apis.google.com/js/plusone.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);})();
</script></div></section><section id='post-comments'><div id='disqus_thread'></div><script>
  var disqus_shortname = 'reefpoints';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script><noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a></noscript></noscript></section></div></section><script>
  var path = window.location.pathname.split('/').reverse();
  var postname = path[0].split('.');
  var change = postname[0] + '.md';
  var newpath = 'https://github.com/dockyard/reefpoints/blob/master/source/posts/' + path[3] + '-' + path[2] + '-' + path[1] + '-' + change
  $('.issue a').attr('href', newpath);
</script>
</section><footer><ul class='footer-links'><li><a class='link link-in-footer fontello' href='https://github.com/DockYard' target='_blank'>g</a></li><li><a class='link link-in-footer fontello' href='https://twitter.com/DockYard' target='_blank'>t</a></li><li><a class='link link-in-footer fontello' href='http://reefpoints.dockyard.com/atom.xml' target='_blank'>r</a></li><li><a class='link link-in-footer fontello' href='http://dockyard.com/hire-us' target='_blank'>m</a></li></ul><form class='footer-form'><label class='footer-form-label'>Get in touch with us!</label><input class='footer-form-input' placeholder='Email' type='text'><button class='footer-form-submit fontello' href='http://dockyard.com/contact'>R</button></form><a class='footer-number' href='tel:855-362-5973'>(855) DOCK-YRD</a><p class='footer-copyright'>&copy; 2013 DockYard, LLC. All Rights Reserved.</p></footer><audio class='foghorn' preload='auto' src='/sound/foghorn.mp3'></audio><script>
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'reefpoints'; // required: replace example with your forum shortname
  
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script></body></html>
