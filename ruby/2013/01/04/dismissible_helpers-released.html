<!DOCTYPE html><html><head><title>DismissibleHelpers released</title><link href="/stylesheets/all-2fe3bae3.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all-d0af4672.js" type="text/javascript"></script><meta content='NO-CACHE' http-equiv='CACHE-CONTROL'><meta content='DockYard is a Ruby on Rails, PostgreSQL, and, Ember.js, web / mobile application development software consultancy based in Boston, MA.' namer='description'><meta content='ruby on rails, rails, ruby, ruby on rails training, ruby application development, ruby on rails application development, ember application development, ember.js application development, software application development, web, web application development, mobile, mobile application development, ios, ios application development, iphone, iphone application development, android, android application development, postgres, startups, enterprise, Boston, MA, Massachusetts, for hire' name='keywords'><meta content='web development, mobile development, startups, enterprise, ruby on rails, rails, ruby, ruby on rails training, Boston, for hire' name='keywords'><meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0' name='viewport'><meta content='DockYard.com - Add simple to implement help text that users can dismiss' name='description'><meta content='_danmcclain' name='twitter:creator'><meta content='summary' name='twitter:card'><meta content='@DockYard' name='twitter:site'><meta content='http://reefpoints.dockyard.com/ruby/2013/01/04/dismissible_helpers-released.html' name='twitter:url'><meta content='DismissibleHelpers released' name='twitter:title'><meta content='Add simple to implement help text that users can dismiss' name='twitter:description'><link href='http://dockyard.com/humans.txt' rel='author'><link href='/apple-touch-icon.png' rel='apple-touch-icon'><link href='/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed'><script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-24185112-2']);
    _gaq.push(['_trackPageview']);
  
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
<!--
                                                                    ..
                                                                 ,Z+O.
                                                              .OO.O..
                                                             OZ..O.
                                                         ..OO..87.
                                                        .O7O..O...
                                                      .O...Z~O.
                                                   .:Z~. ..Z..
                                                  +O.O   .8..
                                     ...       .OO.  O  O?.
                             ..ZOOOOOOOOOZOOO.ZOZ.   .OO..
                           .OOOOOOOOOOOOOOOOOO..Z.   $O.
                         .ZOOOOOOOOOOOOOOOOOO.  .O..O.
                        .ZOOOOOOOOOOOOOOOOOOOZ  .:O$.
                        OZOOOOOOOOOOO...OOOOOOOZ$ZO
                      ..OOOOOOOOOOOOO  .OOOOOOOOOOO..
                      .OOOOOOOOOOOOOOOOOOOOOOOOOOOOO.
                      .OOOOOOOOOOOOOOOOOOOOOOOOOOOOZ.
                      OOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.
                     .OOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.
                     :OOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.
                     ZOOOOOOOOOOOOOOOOOOOOOOOOOOOOOZ.
                     OOOOOOOOOOOOOOOOOOOOOOOOOOOO7OO.
                     ZOOOOOOOOOOOOOOOOOOOOOOOOOOOOOZ.
                     OOOOOOZOOOOOOOO.ZOOOOOOOOOOO7OO.
                     ZOOOOO.OOOOOOOO.OOOOOOOOOO.  OO.
...     ..           OOOOO.OOOOOOOO.OOOOOOOOO.   .O:
.OOZ...OOO.        ..OOOOO.OOOOOOO.OOOOOOOOZ.    .Z..
.OOOOOOOOO         .ZOOOOO.OOOOO..OOOOOOOO~      .Z
 .OOOOOOO.         .OOOOOO.OZZ..OOOOOOOOO.      .?O
  .OOOOOI.        .OOOOOOO..,ZOOOOOOOOOO..      .O.
   .OOOOZ.      ..ZOOOOOOOOOOOOOOOOOOOO~        .O.
   .OOOOO= .....ZOOOOOOOOOOOOOOOOOOOOOO.      ..O.
   ..OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOZ       .,OO.
    .ZOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.     ...OO..
     .OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.   ...OO.
     ..ZOOOOOOOOOOOOOOOOOOOOOOOOOOOO.... OZO..
      ...OOOOOOOOOOOOOOOOOOOOOOOOOOZOOOZO...
          .....~OOOOOOOOOOOOOOOOO:........
                ................
--></head><body id='blog'><header id='mobile-header'><div class='wrap'><a class='header-logo' href='/'>DockYard</a><div class='menu-button'></div></div><ul class='flexnav' data-breakpoint='481' id='mobile-nav'><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='http://dockyard.com'><span class='mobile-nav-icon fontello'>h</span><p class='main-nav-item'>Home</p></a></li><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='http://dockyard.com'><span class='mobile-nav-icon fontello'>w</span><p class='main-nav-item'>Work</p></a></li><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='http://dockyard.com'><span class='mobile-nav-icon fontello'>p</span><p class='main-nav-item'>Team</p></a></li><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='http://dockyard.com'><span class='mobile-nav-icon fontello'>c</span><p class='main-nav-item'>Community</p></a></li><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='/'><span class='mobile-nav-icon fontello'>b</span><p class='main-nav-item'>Blog</p></a></li><li class='mobile-nav-link-wrap'><a class='mobile-nav-link' href='http://dockyard.com/hire-us'><span class='mobile-nav-icon fontello'>m</span><p class='main-nav-item'>Contact</p></a></li></ul></header><header id='site-header'><div class='wrap'><h1><a class='header-logo' href='http://dockyard.com'>DockYard</a></h1><ul class='main-nav'><li class='nav-work'><a class='main-nav-item' href='http://dockyard.com/work'>Work</a></li><li class='nav-work'><a class='main-nav-item' href='http://dockyard.com/team'>Team</a></li><li class='nav-work'><a class='main-nav-item' href='http://dockyard.com/community'>Community</a></li><li class='nav-work'><a class='main-nav-item current' href='/'>Blog</a></li><li class='nav-work'><a class='main-nav-item' href='http://dockyard.com/contact'>Contact</a></li></ul></div></header><section id='content'><section id='post'><aside class='post-metas-wrap'><ul class='post-metas'><li class='post-meta'><a class="post-author" href="/authors/dan-mcclain.html">Dan McClain</a></li><li class='post-meta'><span><a class='link link-in-post fontello' href='http://twitter.com/_danmcclain' target='_blank'>t</a><a class='link link-in-post fontello' href='https://github.com/danmcclain' target='_blank'>g</a></span></li><li class='post-meta post-date'>04 Jan 2013</li></ul></aside><div class='post-div'><p class='post-meta post-tags'><a class="tag-link" href="/categories/ruby.html">Ruby (34)</a>, <a class="tag-link" href="/categories/ruby-on-rails.html">Ruby on Rails (25)</a>, <a class="tag-link" href="/categories/gems.html">Gems (10)</a><a class="tag-link" style="float: right" href="/categories.html">See all categories</a></p><div class='post-title-wrap'><h1 class='post-title'>DismissibleHelpers released</h1></div><current_page class='post-content'><p>Have an application where you want to add some help text for the user,
but they really only need to see it once? With the
<a href="https://github.com/dockyard/dismissible_helpers"><code>dismissible_helpers</code></a>
gem, you can quickly add dismissible help text to your application.</p>

<ul>
<li><a href="https://github.com/dockyard/dismissible_helpers">View the project on GitHub</a></li>
<li><a href="http://dismissible-helpers-example.herokuapp.com/">View the demo here</a></li>
<li><a href="https://github.com/dockyard/dismissible_helpers_example">View the demo source code</a></li>
</ul>

<h2>What you get</h2>

<p>DismissibleHelpers includes:</p>

<ul>
<li>DismissibleHelpers View Helper - Renders the help text only if the visitor
has not dismissed it</li>
<li>DismissedHelpers Routes and controller - Handles the JavaScript requests
to store the dismissal state</li>
<li>DismissedHelpers Javascript - Handles the front end interactions with
the help text</li>
</ul>

<p>By default, <code>dismissible_helpers</code> will use a cookie to store the
dismissal status of the help text.</p>

<h2>Three minute setup</h2>

<p>To start using <code>dismissible_helpers</code> without any customization, you only
three steps away.</p>

<ol>

  <li><p> Add <code>dismissible_helpers_routes</code> to your <code>config/routes.rb</code>

```ruby
YourApplication::Application.routes.draw do
  dismissible_helpers_routes

  # Your other routes
end```
  </p></li>

  <li><p> Add the Javascript: Add the following to your <code>app/assets/javascripts/application.js</code>.

```javascript
// Your other require statments
//=require dismissible_helpers
//=require_self

$(function(){
  $('.dismissible').dismissible()
})```
  </p></li>

  <li><p> Call the <code>render_dismissible_helper</code> method with the string you want to
       render. The string passed to the method will be processed by the I18n method
       <code>t</code>, so the content of the help message should be stored in your localization
       file.

```erb
<%= render_dismissible_helper 'help.some_help_message' %>
```
  </p></li>

</ol>

<h2>Advanced setup</h2>

<h3>Changing the way the help text is removed</h3>

<p>By default, the dismissed helper is removed from the page via
<code>$(helper).remove()</code>. This can be customized by passing a callback to the
<code>.dismissible()</code> call. To use jQuery&#39;s <code>.slideUp()</code> you would use the
following call:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="predefined">$</span>(<span class="keyword">function</span>(){
  <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">.dismissible</span><span class="delimiter">'</span></span>).dismissible({
    <span class="function">success</span>: <span class="keyword">function</span>(helper){
      helper.slideUp(); <span class="comment">//'helper' is the jQuery-wrapped element</span>
    }
  });
});
</pre></td>
</tr></table>
</div></div>
<h3>Storing dismissed helpers for authenticated users</h3>

<p><code>dismissible_helpers</code> can store the help text dismissal state on a
user/account. That way, when a user dismisses some help text, it follows
them across browsers.</p>

<p><code>dismissible_helpers</code> will attempt to retrieve the authenticated user by
checking for a <code>current_user</code> helper method. If the
ApplicationController responds to <code>current_user</code>, <code>dismissible_helpers</code>
will check to see if the returned object has a <code>dismissed_helpers</code>
attribute. It will then add the dismissed help text to that model.</p>

<p><code>dismissible_helpers</code> expects that the <code>dismissed_helpers</code> attribute is
an array. With vanilla ActiveRecord, you can achieve this with attribute
serialization:</p>

<p>First, add the column to your model (we&#39;ll assume it&#39;s an Account class
in this example)</p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span class="keyword">class</span> <span class="class">AddDismissedHelpersToAccounts</span> &lt; <span class="constant">ActiveRecord</span>::<span class="constant">Migration</span>
  <span class="keyword">def</span> <span class="function">up</span>
    add_column <span class="symbol">:accounts</span>, <span class="symbol">:dismissed_helpers</span>, <span class="symbol">:text</span>
  <span class="keyword">end</span>

  <span class="keyword">def</span> <span class="function">down</span>
    remove_column <span class="symbol">:accounts</span>, <span class="symbol">:dismissed_helpers</span>
  <span class="keyword">end</span>
<span class="keyword">end</span>
</pre></td>
</tr></table>
</div></div>
<p>Then add the <code>serialize</code> call to your model</p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="keyword">class</span> <span class="class">Account</span> &lt; <span class="constant">ActiveRecord</span>::<span class="constant">Base</span>
  serialize <span class="symbol">:dismissed_helpers</span>, <span class="constant">Array</span>
<span class="keyword">end</span>
</pre></td>
</tr></table>
</div></div>
<p>If you are using PostgreSQL as your database, you could use
<a href="https://github.com/dockyard/postgres_ext">postgres_ext</a> to
add native array support to your models. You would just need the
following migration to add the dismissed_helpers attribute
to your model:</p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span class="keyword">class</span> <span class="class">AddDismissedHelpersToAccounts</span> &lt; <span class="constant">ActiveRecord</span>::<span class="constant">Migration</span>
  <span class="keyword">def</span> <span class="function">up</span>
    add_column <span class="symbol">:accounts</span>, <span class="symbol">:dismissed_helpers</span>, <span class="symbol">:string</span>, <span class="symbol">:array</span> =&gt; <span class="predefined-constant">true</span>
  <span class="keyword">end</span>

  <span class="keyword">def</span> <span class="function">down</span>
    remove_column <span class="symbol">:accounts</span>, <span class="symbol">:dismissed_helpers</span>
  <span class="keyword">end</span>
<span class="keyword">end</span>
</pre></td>
</tr></table>
</div></div>
<h2>Wrapping up</h2>

<p>Hopefully you find the gem useful. If you find any issues with it, 
<a href="https://github.com/dockyard/dismissible_helpers/issues">let us know</a>!</p>
</current_page><p class='issue'>See a problem with the current page? &nbsp;<a href='https://github.com/dockyard/reefpoints/blob/master/source/posts/' target='_blank'>Send a pull request to contribute, we'll happily accept!</a></p><section class='post-share'><h1>Like the current page? Please share!</h1><div class='social-button'><a class='twitter-share-button' data-url='http://reefpoints.dockyard.com/ruby/2013/01/04/dismissible_helpers-released.html' data-via='DockYard' href='https://twitter.com/share'>Tweet</a></div><script>
  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='//platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');
</script><div class='social-button'><div class='g-plusone' data-href='#' data-size='medium' data-width='100'></div><script>
  (function() {var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;po.src = 'https://apis.google.com/js/plusone.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);})();
</script></div></section><section id='post-comments'><div id='disqus_thread'></div><script>
  var disqus_shortname = 'reefpoints';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script><noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a></noscript></noscript></section></div></section><script>
  var path = window.location.pathname.split('/').reverse();
  var postname = path[0].split('.');
  var change = postname[0] + '.md';
  var newpath = 'https://github.com/dockyard/reefpoints/blob/master/source/posts/' + path[3] + '-' + path[2] + '-' + path[1] + '-' + change
  $('.issue a').attr('href', newpath);
</script>
</section><footer><ul class='footer-links'><li><a class='link link-in-footer fontello' href='https://github.com/DockYard' target='_blank'>g</a></li><li><a class='link link-in-footer fontello' href='https://twitter.com/DockYard' target='_blank'>t</a></li><li><a class='link link-in-footer fontello' href='http://reefpoints.dockyard.com/atom.xml' target='_blank'>r</a></li><li><a class='link link-in-footer fontello' href='http://dockyard.com/hire-us' target='_blank'>m</a></li></ul><form class='footer-form'><label class='footer-form-label'>Get in touch with us!</label><input class='footer-form-input' placeholder='Email' type='text'><button class='footer-form-submit fontello' href='http://dockyard.com/contact'>R</button></form><a class='footer-number' href='tel:855-362-5973'>(855) DOCK-YRD</a><p class='footer-copyright'>&copy; 2013 DockYard, LLC. All Rights Reserved.</p></footer><audio class='foghorn' preload='auto' src='/sound/foghorn.mp3'></audio><script>
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'reefpoints'; // required: replace example with your forum shortname
  
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script></body></html>
